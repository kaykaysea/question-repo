<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<title>Questions Home</title>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    showProcessingMessages: false,
    tex2jax: { inlineMath: [['$','$'],['\\(','\\)']] }
  });
</script>
<script type="text/javascript"
	src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML">
	
</script>
<script>
	var Preview = {
		delay : 150, // delay after keystroke before updating

		preview : null, // filled in by Init below
		buffer : null, // filled in by Init below

		timeout : null, // store setTimout id
		mjRunning : false, // true when MathJax is processing
		oldText : null, // used to check if an update is needed

		//
		//  Get the preview and buffer DIV's
		//
		Init : function() {
			this.preview = document.getElementById("MathPreview");
			this.buffer = document.getElementById("MathBuffer");
		},

		//
		//  Switch the buffer and preview, and display the right one.
		//  (We use visibility:hidden rather than display:none since
		//  the results of running MathJax are more accurate that way.)
		//
		SwapBuffers : function() {
			var buffer = this.preview, preview = this.buffer;
			this.buffer = buffer;
			this.preview = preview;
			buffer.style.visibility = "hidden";
			buffer.style.position = "absolute";
			preview.style.position = "";
			preview.style.visibility = "";
		},

		//
		//  This gets called when a key is pressed in the textarea.
		//  We check if there is already a pending update and clear it if so.
		//  Then set up an update to occur after a small delay (so if more keys
		//    are pressed, the update won't occur until after there has been 
		//    a pause in the typing).
		//  The callback function is set up below, after the Preview object is set up.
		//
		Update : function() {
			if (this.timeout) {
				clearTimeout(this.timeout)
			}
			this.timeout = setTimeout(this.callback, this.delay);
		},

		//
		//  Creates the preview and runs MathJax on it.
		//  If MathJax is already trying to render the code, return
		//  If the text hasn't changed, return
		//  Otherwise, indicate that MathJax is running, and start the
		//    typesetting.  After it is done, call PreviewDone.
		//  
		CreatePreview : function() {
			Preview.timeout = null;
			if (this.mjRunning)
				return;
			var questionText = document.getElementById("questionContent").value;
			var option1Text = document.getElementById("option1").value;
			var option2Text = document.getElementById("option2").value;
			var option3Text = document.getElementById("option3").value;
			var option4Text = document.getElementById("option4").value;

			//var text = document.getElementById("MathInput").value;
			var text = questionText + "<br/><br/>" + "a) " + option1Text
					+ "<br/><br/>" + "b) " + option2Text + "<br/><br/>" + "c) "
					+ option3Text + "<br/><br/>" + "d) " + option4Text;
			if (text === this.oldtext)
				return;
			this.buffer.innerHTML = this.oldtext = text;
			this.mjRunning = true;
			MathJax.Hub.Queue([ "Typeset", MathJax.Hub, this.buffer ], [
					"PreviewDone", this ]);
		},

		//
		//  Indicate that MathJax is no longer running,
		//  and swap the buffers to show the results.
		//
		PreviewDone : function() {
			this.mjRunning = false;
			this.SwapBuffers();
		}

	};

	//
	//  Cache a callback to the CreatePreview action
	//
	Preview.callback = MathJax.Callback([ "CreatePreview", Preview ]);
	Preview.callback.autoReset = true; // make sure it can run more than once
</script>
<!-- Bootstrap -->
<link href="css/bootstrap.min.css" rel="stylesheet" />
<link href="css/custom.css" rel="stylesheet" />

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>
<body>
	<div th:replace="fragments/header :: header">...</div>


	<div class="filler">
	</div>

	<!-- Main container -->
	<div class="container">
		<div class="well">
			<form id="question-form" data-toggle="validator" role="form" autocomplete="off">
		
	
		<div class="row">
			<div class="col-md-8">
			
				<div class="form-group">
					<label for="questionContent">Question</label>
							<textarea id="questionContent" rows="6" class="form-control"
								placeholder="Question content here" name="questionContent"
								onkeyup="Preview.Update()"
								data-smk-msg="Question content cannot be empty" required="true"></textarea>

						</div>
				<div class="form-group">
					<label for="option1">Option 1</label>
					<textarea type="text" class="form-control" name="option1"
						onkeyup="Preview.Update()" id="option1" placeholder="Option text"
						rows="2" data-smk-msg="Option 1 cannot be empty" required="true"></textarea>
					<div class="help-block with-errors"></div>
				</div>
		
				<div class="form-group">
					<label for="option2">Option 2</label>
					<textarea type="text" class="form-control" name="option2"
						onkeyup="Preview.Update()" id="option2" placeholder="Option text"
						rows="2" data-smk-msg="Option 2 cannot be empty" required="true"></textarea>
					<div class="help-block with-errors"></div>
				</div>
		
				<div class="form-group">
					<label for="option3">Option 3</label>
					<textarea type="text" class="form-control" name="option3"
						onkeyup="Preview.Update()" id="option3" placeholder="Option text"
						rows="2" data-smk-msg="Option 3 cannot be empty" required="true"></textarea>
					<div class="help-block with-errors"></div>
				</div>
		
				<div class="form-group">
					<label for="option4">Option 4</label>
					<textarea type="text" class="form-control" name="option4"
						onkeyup="Preview.Update()" id="option4" placeholder="Option text"
						rows="2" data-smk-msg="Option 4 cannot be empty" required="true"></textarea>
					<div class="help-block with-errors"></div>
				</div>
	
			
			</div>
  			<div class="col-md-4">
  			
  				<div class="form-group">

					<label for="head">Head</label> <input type="text"
						class="form-control" name="head" id="head"
						placeholder="Option text" data-smk-msg="Head cannot be empty"
						required="true"> </input>
					<div class="help-block with-errors"></div>

				</div>
  				<div class="form-group">
  					<label for="lesson">Lesson</label>
  						<select class="form-control" id="lesson"></select>
						<div class="help-block with-errors"></div>
  				
  				</div>
  				<br/>
  				<div class="form-group">

						<label for="topic">Topic</label>
							<select class="form-control" id="topic"></select>	
						<div class="help-block with-errors"></div>

  				</div>
			
				<hr/>
				
				<div class="form-group">

					<label for="head">Syllabus</label> <input type="text"
						class="form-control" name="syllabus" id="syllabus"
						data-smk-msg="Syllabus cannot be empty" placeholder="Option text"
						required="true"></input>
					<div class="help-block with-errors"></div>

				</div>

				<div class="form-group">

					<label for="lesson">Exam</label> 	<select class="form-control" id="exam" required=true>
										<option value="">Select</option>
										<option value="IIT-JEE">IIT-JEE</option>
										<option value="EAMCET">EAMCET</option>
										<option value="AIEEE">AIEEE</option>
										<option value="OTHER">OTHER</option>
									</select>
					<div class="help-block with-errors"></div>

				</div>

				<div class="form-group">

					<label for="topic">Difficulty</label>
									<select class="form-control" id="difficulty" required=true>
										<option value="">Select</option>
										<option value="EASY">Easy</option>
										<option value="MODERATE">Medium</option>
										<option value="DIFFICULT">Difficult</option>
										<option value="VERYDIFFICULT">Very Difficult</option>
									</select>	
					<div class="help-block with-errors"></div>

				</div>
				
				<hr/>

			<br />
			<br />
		</div>

		


	</div>
		<hr/>
		<div id="submission-alert" class="alert alert-success alert-dismissable">
			<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
		</div>
		<label>Preview:</label>
		<div class="panel">
			<div class="panel-body">
				<div id="MathPreview"></div>
				<div id="MathBuffer"></div>
			</div>
		</div>
		<button type="submit" class="btn btn-primary" id="questionSubmit">Submit
		</button>
		</form>
		
		</div>
		
	</div>
	<script>
			Preview.Init();
	</script>

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<!--<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>-->
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="js/jquery.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/bootstrap-typeahead.min.js"></script>
	<script src="js/smoke.min.js"></script>
	<script src="js/mustache.min.js"></script>
	<script src="js/question-ops.js"></script>

	<script id="questionTemplate" type="text/template">
		<div class="panel panel-default">
			<div class="panel-heading">
				<div class="row">
					<div class="col-md-10">
						<h3 class="panel-title">Question {{qNo}}</h3>
					</div>
					<div class="col-md-2">
						<div aria-label="..." role="group"
							class="btn-group pull-right btn-group-xs">
							<button type="button" data-id="{{id}}"
								class="modbut btn btn-default">
								<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
							</button>
							<button type="button" data-id="{{id}}"
								class="delbut btn btn-default">
								<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
							</button>
						</div>
					</div>

				</div>
			</div>
			<div class="panel-body">
				
				<div class="row">
					<div class="col-md-12">{{questionContent}}</div>
				</div>
				<div class="filler-small"></div>

				{{#optionList}}
				<div class="row">
					<div class="col-md-10">{{opAlpha}}) {{optionText}}</div>
				</div>
				{{/optionList}}

			</div>
		</div>

	</script>


	<script id="dropdownTemplate" type="text/template">

			<option></option>
			{{#.}}
			<option>{{id}}</option>
			{{/.}}
  			
		

	</script>


</body>
</html>
